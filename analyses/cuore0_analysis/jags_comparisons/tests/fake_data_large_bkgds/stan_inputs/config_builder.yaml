generate_morpho_config: True
morpho_config_output_path: "stan_outputs/cuore0_analysis.yaml"
generate_stan_model: True
stan_model_output_path: "stan_outputs/cuore0_analysis.stan"

output_paths:
  shape_output_dir: "stan_outputs/morpho_data/shapes"
  misc_config_output_dir: "stan_outputs/morpho_data"
  fake_data_output_dir: "stan_outputs/morpho_data"
  morpho_output_dir: "stan_outputs"
  morpho_output_file: "cuore0_analysis"
  plots_output_dir: "stan_outputs/plots"
  plots_output_format: "png"
  debug_dir: "stan_outputs/debug"

stan:
  name: "cuore0_analysis"
  model:
    function_file: "../../../../functions/"
    cache: "stan_outputs/cache"
  run:
    algorithm: "NUTS"
    iter: 2000
    warmup: 1000
    chain: 1

dimension:
  name : "energy"
  binning_type : "file"
  binning_path : "stan_inputs/binning.txt"
  binning_format : "text"
  binning_variables : ":"

generate_fake_data: False
num_data_sets: 3
data:
  - name: "M1"
    load_data_path: "shared_inputs/fake_data_large_bkgds.root"
    load_data_format: "root values"
    load_data_variable: ["outTree", "Ener2", "Multiplicity==1"]
  - name: "M2"
    load_data_path: "shared_inputs/fake_data_large_bkgds.root"
    load_data_format: "root values"
    load_data_variable: ["outTree", "Ener2", "Multiplicity==2"]
  - name: "M2Sum"
    load_data_path: "shared_inputs/fake_data_large_bkgds.root"
    load_data_format: "root values"
    load_data_variable: ["outTree", "ESum2", "Multiplicity==2"]

parameters:
 - name: "p_130Te2nuIK_10M"
   lower_bound: 0.
   upper_bound: 1000.
   shapes:
    - path: "../../../data/simulations_cuore0/Bulk/130Te2nuIK-10M.root"
      renormalize: False
      format: "root values"
      tree: "outTree"
      branches: ["Ener2"]
      cut: "Multiplicity==1"
    - path: "../../../data/simulations_cuore0/Bulk/130Te2nuIK-10M.root"
      renormalize: False
      format: "root values"
      tree: "outTree"
      branches: ["Ener2"]
      cut: "Multiplicity==2"
    - path: "../../../data/simulations_cuore0/Bulk/130Te2nuIK-10M.root"
      renormalize: False
      format: "root values"
      tree: "outTree"
      branches: ["ESum2"]
      cut: "Multiplicity==2"
 - name: "p_ExtPb4cm_210Pb"
   lower_bound: 0.
   upper_bound: 1000.
   shapes:
    - path: "../../../data/simulations_cuore0/Bulk/ExtPb4cm-210Pb.root"
      renormalize: False
      format: "root values"
      tree: "outTree"
      branches: ["Ener2"]
      cut: "Multiplicity==1"
    - path: "../../../data/simulations_cuore0/Bulk/ExtPb4cm-210Pb.root"
      renormalize: False
      format: "root values"
      tree: "outTree"
      branches: ["Ener2"]
      cut: "Multiplicity==2"
    - path: "../../../data/simulations_cuore0/Bulk/ExtPb4cm-210Pb.root"
      renormalize: False
      format: "root values"
      tree: "outTree"
      branches: ["ESum2"]
      cut: "Multiplicity==2"
 - name: "p_40K10cmPbExt_cnaf110_10G"
   lower_bound: 0.
   upper_bound: 1000.
   shapes:
    - path: "../../../data/simulations_cuore0/Bulk/40K10cmPbExt_cnaf110-10G.root"
      renormalize: False
      format: "root values"
      tree: "outTree"
      branches: ["Ener2"]
      cut: "Multiplicity==1"
    - path: "../../../data/simulations_cuore0/Bulk/40K10cmPbExt_cnaf110-10G.root"
      renormalize: False
      format: "root values"
      tree: "outTree"
      branches: ["Ener2"]
      cut: "Multiplicity==2"
    - path: "../../../data/simulations_cuore0/Bulk/40K10cmPbExt_cnaf110-10G.root"
      renormalize: False
      format: "root values"
      tree: "outTree"
      branches: ["ESum2"]
      cut: "Multiplicity==2"
 - name: "p_PbRom_pb210__01"
   lower_bound: 0.
   upper_bound: 1000.
   shapes:
    - path: "../../../data/simulations_cuore0/Sup/PbRom-pb210-.01.root"
      renormalize: False
      format: "root values"
      tree: "outTree"
      branches: ["Ener2"]
      cut: "Multiplicity==1"
    - path: "../../../data/simulations_cuore0/Sup/PbRom-pb210-.01.root"
      renormalize: False
      format: "root values"
      tree: "outTree"
      branches: ["Ener2"]
      cut: "Multiplicity==2"
    - path: "../../../data/simulations_cuore0/Sup/PbRom-pb210-.01.root"
      renormalize: False
      format: "root values"
      tree: "outTree"
      branches: ["ESum2"]
      cut: "Multiplicity==2"
 - name: "p_InternalShields_k40"
   lower_bound: 0.
   upper_bound: 1000.
   shapes:
    - path: "../../../data/simulations_cuore0/Bulk/InternalShields-k40.root"
      renormalize: False
      format: "root values"
      tree: "outTree"
      branches: ["Ener2"]
      cut: "Multiplicity==1"
    - path: "../../../data/simulations_cuore0/Bulk/InternalShields-k40.root"
      renormalize: False
      format: "root values"
      tree: "outTree"
      branches: ["Ener2"]
      cut: "Multiplicity==2"
    - path: "../../../data/simulations_cuore0/Bulk/InternalShields-k40.root"
      renormalize: False
      format: "root values"
      tree: "outTree"
      branches: ["ESum2"]
      cut: "Multiplicity==2"
 - name: "p_BotExtPb_1460keV"
   lower_bound: 0.
   upper_bound: 1000.
   shapes:
    - path: "../../../data/simulations_cuore0/AdHoc/BotExtPb-1460keV.root"
      renormalize: False
      format: "root values"
      tree: "outTree"
      branches: ["Ener2"]
      cut: "Multiplicity==1"
    - path: "../../../data/simulations_cuore0/AdHoc/BotExtPb-1460keV.root"
      renormalize: False
      format: "root values"
      tree: "outTree"
      branches: ["Ener2"]
      cut: "Multiplicity==2"
    - path: "../../../data/simulations_cuore0/AdHoc/BotExtPb-1460keV.root"
      renormalize: False
      format: "root values"
      tree: "outTree"
      branches: ["ESum2"]
      cut: "Multiplicity==2"
 - name: "p_50_600mK_pb210_1G_normSurf"
   lower_bound: 0.
   upper_bound: 1000.
   shapes:
    - path: "../../../data/simulations_cuore0/Bulk/50+600mK-pb210-1G-normSurf.root"
      renormalize: False
      format: "root values"
      tree: "outTree"
      branches: ["Ener2"]
      cut: "Multiplicity==1"
    - path: "../../../data/simulations_cuore0/Bulk/50+600mK-pb210-1G-normSurf.root"
      renormalize: False
      format: "root values"
      tree: "outTree"
      branches: ["Ener2"]
      cut: "Multiplicity==2"
    - path: "../../../data/simulations_cuore0/Bulk/50+600mK-pb210-1G-normSurf.root"
      renormalize: False
      format: "root values"
      tree: "outTree"
      branches: ["ESum2"]
      cut: "Multiplicity==2"
 - name: "p_40KOVC_cnaf70_1G"
   lower_bound: 0.
   upper_bound: 1000.
   shapes:
    - path: "../../../data/simulations_cuore0/Bulk/40KOVC_cnaf70-1G.root"
      renormalize: False
      format: "root values"
      tree: "outTree"
      branches: ["Ener2"]
      cut: "Multiplicity==1"
    - path: "../../../data/simulations_cuore0/Bulk/40KOVC_cnaf70-1G.root"
      renormalize: False
      format: "root values"
      tree: "outTree"
      branches: ["Ener2"]
      cut: "Multiplicity==2"
    - path: "../../../data/simulations_cuore0/Bulk/40KOVC_cnaf70-1G.root"
      renormalize: False
      format: "root values"
      tree: "outTree"
      branches: ["ESum2"]
      cut: "Multiplicity==2"

